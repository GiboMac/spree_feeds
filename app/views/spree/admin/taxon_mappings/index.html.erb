<% content_for :page_title do %>
  <%= Spree.t(:taxon_mapping) %><br>
<% end %>

<table class="index">
  <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
  </colgroup>
  <thead>
    <tr data-hook="tax_header">
      <th><%= Spree.t(:taxon) %></th>
      <th><%= Spree.t(:google_taxon) %></th>
    </tr>
  </thead>
  <tbody>
    <%= form_tag admin_taxon_mappings_path, method: :post do %>
      <% @taxons.each do |taxon| %>
        <tr class="<%= cycle('odd', 'even')%>">
          <td class="align-left">
            <%= taxon.pretty_name %>
          </td>
          <td class="align-center">
            <%= text_field_tag "mappings[#{taxon.id}][google_taxon]", taxon.taxon_mapping.try(:google_taxon), class: 'category' %>
          </td>
        </tr>
      <% end %>
      <tr>
        <td colspan="3">
          <div class="form-buttons filter-actions actions" data-hook="buttons">
            <%= button Spree.t('actions.update'), 'icon-refresh' %>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
